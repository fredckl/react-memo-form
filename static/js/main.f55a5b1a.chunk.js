(this["webpackJsonpreact-memo-form"]=this["webpackJsonpreact-memo-form"]||[]).push([[0],{42:function(e,n,r){},43:function(e,n,r){},48:function(e,n,r){"use strict";r.r(n);var a=r(0),t=r.n(a),l=r(33),c=r.n(l),o=(r(42),r(43),r(8)),s=r(3),u=r(36),i=r(1),j=t.a.forwardRef((function(e,n){var r=e.onChange,a=e.value,t=Object(u.a)(e,["onChange","value"]);return Object(i.jsx)("input",Object(o.a)({onChange:function(e){return r(e.target.value)},value:a||"",ref:n},t))})),d=function(e){Object(a.useEffect)((function(){if(null===e||void 0===e?void 0:e.current){e.current.classList.add("load");var n=setTimeout((function(){return e.current.classList.remove("load")}),Math.floor(2e3*Math.random()));return function(){return clearTimeout(n)}}}))},b=function(){console.log("AddressForm");var e=Object(s.e)(),n=e.control,r=e.getValues,t=Object(a.useRef)();return console.log(r()),d(t),Object(i.jsxs)("div",{style:{padding:"1rem 0"},ref:t,children:[Object(i.jsx)(s.a,{name:"address1",defaultValue:null,control:n,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Adresse 1"})}}),Object(i.jsx)(s.a,{name:"address2",defaultValue:null,control:n,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Adresse 2"})}}),Object(i.jsx)(s.a,{name:"zipCode",defaultValue:null,control:n,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Code postal"})}}),Object(i.jsx)(s.a,{name:"city",defaultValue:null,control:n,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Ville"})}})]})},f=function(){console.log("DescriptionForm");var e=Object(s.e)().control,n=Object(a.useRef)();return d(n),Object(i.jsx)("div",{ref:n,children:Object(i.jsx)(s.a,{name:"description",defaultValue:void 0,control:e,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)("textarea",{onChange:n,placeholder:"Description courte",children:r})}})})},O=r(50),m=r(49),h=r(34),v=function(e){return Object(m.a)("hide",e)?null:Object(i.jsx)("div",{className:"form-error-validation",children:Object(i.jsx)(h.a,Object(o.a)(Object(o.a)({},e),{},{render:function(e){var n=e.message;return Object(i.jsx)("p",{children:n})}}))})},g=function(){console.log("ProfileForm");var e=Object(a.useRef)(),n=Object(s.e)(),r=n.control,t=n.watch,l=n.errors,c=t(["firstname"]).firstname;d(e);var o="fred"===Object(O.a)(c||"");return Object(i.jsxs)("div",{className:"form-inline",ref:e,children:[Object(i.jsx)(s.a,{name:"firstname",defaultValue:null,control:r,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Pr\xe9nom : tape fred"})}}),Object(i.jsx)(s.a,{name:"lastname",defaultValue:null,control:r,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Nom"})}}),!o&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)(s.a,{name:"email",defaultValue:null,control:r,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Email"})},rules:{required:"Ce champ est obligatoire"}}),Object(i.jsx)(v,{name:"email",errors:l})]}),Object(i.jsx)(s.a,{name:"N\xb0 de t\xe9l\xe9phone",defaultValue:null,control:r,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"N\xb0 de t\xe9l\xe9phone"})}})]})]})},x={firstname:null,lastname:null,email:null,address1:null,address2:null,city:null,zipCode:null,description:null},p=function(){var e=Object(s.d)({defaultValues:x});return Object(i.jsx)("div",{className:"form-content",children:Object(i.jsxs)(s.b,Object(o.a)(Object(o.a)({},e),{},{children:[Object(i.jsx)("h2",{children:"Formulaire sans memo"}),Object(i.jsxs)("form",{onSubmit:e.handleSubmit((function(e){console.log(e)})),children:[Object(i.jsx)(g,{}),Object(i.jsx)(b,{}),Object(i.jsx)(f,{}),Object(i.jsx)("pre",{children:JSON.stringify(e.getValues(),null,2)}),Object(i.jsx)("button",{type:"submit",children:"Envoyer"})]})]}))})},C=r(60),V=r(61),F=r(51),N=r(62),R=r(27),q=r(37),y=r(57),E=r(52),S=r(53),w=r(54),A=r(35),D=r(55),P=r(58),z=r(56),M=r(26),T=r(29),J=r(59),L=r(6),k=r.n(L),B=Object(C.a)(Object(V.a)(F.a,N.a)),I=function(e){return Object(R.a)(["methods",e])},W=I("pathName"),G=I("errors"),H=I("fields"),K=I("observerFields"),Q=Object(q.a)(F.a),U=Object(y.a)(Object(q.a)(Object(V.a)(F.a,N.a)),Object(m.a)("formData")),X=function(e,n){var r=U(e),a=U(n),t=W(n),l=G(n),c=H(n),o=K(n),s=Object(y.a)(N.a,Object(m.a)("fields"));return!Object(S.a)(Object(y.a)(B,Object(m.a)("allErrors")),Object(S.a)(s,w.a,Object(y.a)(B,Object(A.a)((function(e){return Object(y.a)(B,Object(R.a)(Q([t,e])))(l)})),Object(m.a)("fields"))),D.a)({allErrors:l,fields:Object(y.a)(P.a,Object(z.a)(o))(c)})&&Object(M.a)(r,a)},Y={register:k.a.func.isRequired,unregister:k.a.func.isRequired,errors:k.a.oneOfType([k.a.object,k.a.string]).isRequired,watch:k.a.func.isRequired,handleSubmit:k.a.func.isRequired,reset:k.a.func.isRequired,setError:k.a.func.isRequired,clearError:k.a.func,setValue:k.a.func.isRequired,getValues:k.a.func.isRequired,triggerValidation:k.a.func,control:k.a.object.isRequired,formState:k.a.object.isRequired,getFieldName:k.a.func.isRequired,getFormValues:k.a.func.isRequired,pathName:k.a.string.isRequired},Z=(k.a.shape(Y),function(e){return function(n){var r,t=Object(m.a)("pathName",e),l=(r=t,function(e){return Object(y.a)(Object(E.a)("."),Q)([r,e])}),c=Object(a.memo)(n,X),u=function(n){var r=Object(s.e)(),a=Object(y.a)(r.getValues,Object(T.a)(l)),u=Object(J.a)([],"observerFields",e),j=Object(J.a)([],"fields",e),d=a(u);return Object(i.jsx)(c,Object(o.a)(Object(o.a)({},n),{},{methods:Object(o.a)(Object(o.a)({},r),{},{getFieldName:l,getFormValues:a,pathName:t,observerFields:u,fields:j}),formData:d}))};return u.displayName="WrapperMemoizedComponent",u}}),$=Z({observerFields:["address1"]})((function(e){var n=e.methods;console.log("AddressForm2");var r=n.control,t=n.watch,l=Object(a.useRef)();t(["address1"]).address1;return d(l),Object(i.jsxs)("div",{style:{padding:"1rem 0"},ref:l,children:[Object(i.jsx)(s.a,{name:"address1",defaultValue:null,control:r,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Adresse 1"})}}),Object(i.jsx)(s.a,{name:"address2",defaultValue:null,control:r,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Adresse 2"})}}),Object(i.jsx)(s.a,{name:"zipCode",defaultValue:null,control:r,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Code postal"})}}),Object(i.jsx)(s.a,{name:"city",defaultValue:null,control:r,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Ville"})}})]})})),_=Z({fields:["description"]})((function(e){var n=e.methods;console.log("DescriptionForm2");var r=n.control,t=n.errors,l=Object(a.useRef)();return d(l),console.log(t),Object(i.jsxs)("div",{ref:l,children:[Object(i.jsx)(s.a,{name:"description",defaultValue:null,control:r,rules:{required:"Ce champ est obligatoire"},render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)("textarea",{onChange:n,placeholder:"Description courte",children:r})}}),Object(i.jsx)(v,{name:"description",errors:t})]})})),ee=Z({observerFields:["firstname"],fields:["email"]})((function(e){var n=e.methods;console.log("ProfileForm2");var r=Object(a.useRef)(),t=n.control,l=n.watch,c=n.errors,o=l(["firstname"]).firstname;d(r);var u="fred"===Object(O.a)(o||"");return Object(i.jsxs)("div",{className:"form-inline",ref:r,children:[Object(i.jsx)(s.a,{name:"firstname",defaultValue:null,control:t,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Pr\xe9nom : tape fred"})}}),Object(i.jsx)(s.a,{name:"lastname",defaultValue:null,control:t,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Nom"})}}),!u&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)(s.a,{name:"email",defaultValue:null,control:t,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"Email"})},rules:{required:"Ce champ est obligatoire"}}),Object(i.jsx)(v,{name:"email",errors:c})]}),Object(i.jsx)(s.a,{name:"N\xb0 de t\xe9l\xe9phone",defaultValue:null,control:t,render:function(e){var n=e.onChange,r=e.value;return Object(i.jsx)(j,{onChange:n,value:r,placeholder:"N\xb0 de t\xe9l\xe9phone"})}})]})]})})),ne={firstname:null,lastname:null,email:null,address1:null,address2:null,city:null,zipCode:null,description:null},re=function(){var e=Object(s.d)({defaultValues:ne});return Object(i.jsx)("div",{className:"form-content",children:Object(i.jsxs)(s.b,Object(o.a)(Object(o.a)({},e),{},{children:[Object(i.jsx)("h2",{children:"Formulaire avec memo"}),Object(i.jsxs)("form",{onSubmit:e.handleSubmit((function(e){console.log(e)})),children:[Object(i.jsx)(ee,{}),Object(i.jsx)($,{}),Object(i.jsx)(_,{}),Object(i.jsx)("pre",{children:JSON.stringify(e.getValues(),null,2)}),Object(i.jsx)("button",{type:"submit",children:"Envoyer"})]})]}))})};var ae=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h1",{className:"main-title",children:"React Memo Form"}),Object(i.jsxs)("div",{className:"form-container",children:[Object(i.jsx)(p,{}),Object(i.jsx)(re,{})]})]})},te=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,63)).then((function(n){var r=n.getCLS,a=n.getFID,t=n.getFCP,l=n.getLCP,c=n.getTTFB;r(e),a(e),t(e),l(e),c(e)}))};c.a.render(Object(i.jsx)(t.a.StrictMode,{children:Object(i.jsx)(ae,{})}),document.getElementById("root")),te()}},[[48,1,2]]]);
//# sourceMappingURL=main.f55a5b1a.chunk.js.map